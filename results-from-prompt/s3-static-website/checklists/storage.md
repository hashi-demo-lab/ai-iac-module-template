# Storage Checklist: S3 Static Website Hosting Module

**Purpose**: Validate the quality, clarity, and completeness of storage-related requirements including bucket creation, versioning, lifecycle management, website hosting, and CORS configuration.
**Created**: 2026-02-13
**Feature**: [specs/s3-static-website/spec.md](/workspace/specs/s3-static-website/spec.md)

**Note**: This checklist is generated by the `checklist generation` command based on feature context and requirements.

## Requirement Completeness

- [x] CHK001 - Does the spec define which specific S3 resources the module creates (e.g., aws_s3_bucket, aws_s3_bucket_versioning, aws_s3_bucket_lifecycle_configuration as separate resources), or only describe behavior? [Completeness, Spec: Key Entities] — Resolved: Key Entities section lists all 8 entities; plan.md maps to specific Terraform resources.
- [ ] CHK002 - Are requirements for the CORS configuration complete, specifying allowed methods, allowed headers, exposed headers, and max age in addition to allowed origins? [Completeness, Spec: CORS Configuration]
- [ ] CHK003 - Does FR-020 ("SHOULD allow GET and HEAD methods at minimum") define what other methods may be included and whether the consumer can customize the allowed methods list? [Completeness, Spec: CORS Configuration]
- [ ] CHK004 - Are requirements specified for noncurrent version lifecycle management (e.g., expiring old object versions), or only for current object storage tiering? [Gap]
- [x] CHK005 - Does the spec define requirements for the S3 bucket ownership controls setting (BucketOwnerEnforced vs BucketOwnerPreferred vs ObjectWriter)? [Gap] — Resolved: FR-029 specifies BucketOwnerEnforced.
- [ ] CHK006 - Are output requirements complete for all scenarios, including what `website_endpoint` and `website_domain` return when `enable_website = true` but `block_public_access = true`? [Completeness, Spec: Outputs]

## Requirement Clarity

- [x] CHK007 - Is the term "cold storage tier" in FR-009 and User Story 3 specific enough to identify the exact S3 storage class (GLACIER, GLACIER_DEEP_ARCHIVE, or INTELLIGENT_TIERING)? [Clarity, Spec: Lifecycle Management] — Resolved: FR-009 now specifies GLACIER explicitly.
- [ ] CHK008 - Does FR-014 ("configurable index and error document names") clearly specify the data type and constraints for these document name inputs (e.g., must include file extension, path restrictions)? [Clarity, Spec: Website Configuration]
- [ ] CHK009 - Is the distinction between "website endpoint" and "website domain" in FR-026 clearly defined so implementers know which S3 attribute maps to each output? [Clarity, Spec: Outputs]
- [x] CHK010 - Does FR-016 ("return null or empty values gracefully") specify whether outputs should be null, empty string, or conditionally omitted, and is this consistent across all website-related outputs? [Clarity, Spec: Website Configuration] — Resolved: FR-016 says null; plan specifies try() pattern returning null.
- [ ] CHK011 - Is FR-002 ("force_destroy option") clear about whether this applies only to the bucket resource or also to any dependent resources the module creates? [Clarity, Spec: Bucket Creation and Core Configuration]

## Requirement Consistency

- [x] CHK012 - Is FR-015 ("website hosting MUST be enabled by default") consistent with the module being described as "secure-by-default" in the Module Purpose section, given that website hosting on a private bucket has no security impact but may create unused configuration? [Consistency, Spec: Module Purpose / Website Configuration] — Resolved: FR-015 now defaults to disabled (secure-by-default).
- [ ] CHK013 - Is User Story 3 Scenario 1 ("default configuration ... transitions objects to cold storage after 90 days") consistent with the edge case "All optional features disabled" which suggests lifecycle can be turned off, given that the default is on? [Consistency, Spec: User Story 3 / Edge Cases]
- [ ] CHK014 - Are the input variable names in the Module Interface Summary consistent with the variable names used throughout all User Stories and Functional Requirements? [Consistency, Spec: Module Interface Summary]
- [ ] CHK015 - Is FR-008 ("allow consumers to disable versioning via versioning_enabled") consistent with the module's security posture described in User Story 1, which frames versioning as a security baseline? [Consistency, Spec: Versioning / User Story 1]

## Acceptance Criteria Quality

- [ ] CHK016 - Does User Story 3 specify how the lifecycle rule transition is verified in a test without waiting for actual object transitions (what attributes are checked)? [Measurability, Spec: User Story 3]
- [ ] CHK017 - Can User Story 4 Scenario 1 ("CORS configuration is created on the bucket allowing requests from the specified origins") be objectively verified by checking specific bucket attributes? [Measurability, Spec: User Story 4]
- [ ] CHK018 - Does SC-008 ("versioning and lifecycle management active") define what "active" means for lifecycle rules (rule status is Enabled vs. rule exists)? [Measurability, Spec: Success Criteria]
- [ ] CHK019 - Does SC-009 ("functional website endpoint") specify how functionality is measured -- is a non-null output sufficient, or must the endpoint return an HTTP response? [Measurability, Spec: Success Criteria]

## Scenario Coverage

- [ ] CHK020 - Does the spec cover the modification scenario where `lifecycle_glacier_days` is changed from one positive value to another on an existing bucket with objects already in transition? [Gap]
- [ ] CHK021 - Are requirements defined for the scenario where CORS origins are modified (added or removed) on an existing bucket serving live web traffic? [Gap]
- [ ] CHK022 - Does the spec address the scenario where `index_document` or `error_document` values are changed on a bucket already serving website traffic? [Gap]
- [ ] CHK023 - Are requirements specified for what happens when the module is applied to import or adopt an existing S3 bucket that was not originally created by this module? [Gap]

## Edge Case Coverage

- [ ] CHK024 - Does the edge case "All optional features disabled" also cover the combination where `enable_website = true` but all other optional features are disabled? [Coverage, Spec: Edge Cases]
- [ ] CHK025 - Are edge cases defined for bucket names at the boundary limits (exactly 3 characters, exactly 63 characters)? [Coverage, Spec: Edge Cases / Input Validation]
- [ ] CHK026 - Does the spec define behavior when `index_document` and `error_document` are set to the same file name? [Gap]
- [ ] CHK027 - Are requirements defined for how the module handles S3 bucket naming collisions (name already exists globally) beyond input validation? [Gap]

## Dependencies and Assumptions

- [x] CHK028 - Does the spec specify the minimum required Terraform version and AWS provider version for the S3 resources and features used? [Assumption, Spec: Non-Functional Requirements] — Resolved: NFR-006 specifies AWS provider >= 5.0.0 and Terraform >= 1.3.0.
- [ ] CHK029 - Is the assumption that "consumers are responsible for uploading website content after bucket creation" documented as an explicit limitation or post-deployment step? [Assumption, Spec: Assumptions]
- [x] CHK030 - Does the Out of Scope section for "S3 access logging configuration" note whether this is a security gap that consumers should address separately? [Assumption, Spec: Out of Scope] — Resolved: FR-028 now adds optional access logging support.

## Notes

- Check items off as completed: `[x]`
- Add comments or findings inline
- Link to relevant resources or documentation
- Items are numbered sequentially for easy reference
- Traceability: 26 of 30 items (87%) include spec section references or gap/assumption markers
