{
  "module_name": "s3-static-website",
  "prompt": {
    "service": "S3",
    "description": "Terraform module for an S3 bucket configured for static website hosting with encryption, versioning, lifecycle rules, and configurable public access.",
    "features": [
      "Server-side encryption with AES256",
      "Versioning enabled by default",
      "Lifecycle rules to transition objects to Glacier after 90 days",
      "Block all public access by default (configurable)",
      "Website configuration with index and error documents",
      "CORS configuration support",
      "Required tags: Environment, Owner, CostCenter"
    ],
    "resources": {
      "required": [
        "aws_s3_bucket",
        "aws_s3_bucket_versioning",
        "aws_s3_bucket_server_side_encryption_configuration",
        "aws_s3_bucket_lifecycle_configuration",
        "aws_s3_bucket_public_access_block",
        "aws_s3_bucket_website_configuration"
      ],
      "optional": [
        "aws_s3_bucket_cors_configuration"
      ]
    },
    "variables": {
      "required": {
        "bucket_name": "Unique bucket name",
        "environment": "Environment (dev/staging/prod)",
        "owner": "Owner email or team",
        "cost_center": "Cost center for billing"
      },
      "optional": {
        "versioning_enabled": { "default": true, "description": "Enable versioning" },
        "enable_website": { "default": true, "description": "Enable website hosting" },
        "index_document": { "default": "index.html", "description": "Index document" },
        "error_document": { "default": "error.html", "description": "Error document" },
        "lifecycle_glacier_days": { "default": 90, "description": "Days before Glacier transition" },
        "block_public_access": { "default": true, "description": "Block public access" },
        "cors_allowed_origins": { "default": [], "description": "List of allowed CORS origins" },
        "tags": { "default": {}, "description": "Additional tags map" }
      }
    },
    "outputs": {
      "bucket_id": "The S3 bucket ID",
      "bucket_arn": "The S3 bucket ARN",
      "bucket_domain_name": "The bucket domain name",
      "bucket_regional_domain_name": "The bucket regional domain name",
      "website_endpoint": "The website endpoint (if enabled)",
      "website_domain": "The website domain (if enabled)"
    },
    "compliance": [
      "Must follow AWS Well-Architected Framework security pillar",
      "Encryption must be enabled by default with no way to disable",
      "Public access should be blocked by default but configurable for website hosting"
    ],
    "considerations": [
      "Support both private buckets and public website hosting",
      "When website hosting is enabled, public access blocks should be configurable",
      "Include comprehensive examples for both use cases"
    ]
  },
  "metadata": {
    "aws_service": "S3",
    "complexity": "moderate"
  }
}
